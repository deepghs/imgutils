<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>imgutils.operate.imgcensor &mdash; imgutils 0.3.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=c9d0a6ec" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=53a30eae"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="imgutils.operate.squeeze" href="squeeze.html" />
    <link rel="prev" title="imgutils.operate.censor_" href="censor.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            imgutils
          </a>
              <div class="version">
                0.3.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/quick_start/index.html">Quick Start</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../information/environment.result.html">Run Environment Information</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">imgutils.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ascii/index.html">imgutils.ascii</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data/index.html">imgutils.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../detect/index.html">imgutils.detect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../edge/index.html">imgutils.edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html">imgutils.metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ocr/index.html">imgutils.ocr</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">imgutils.operate</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="align.html">imgutils.operate.align</a></li>
<li class="toctree-l2"><a class="reference internal" href="censor.html">imgutils.operate.censor_</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">imgutils.operate.imgcensor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#imagebasedcensor">ImageBasedCensor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#imgutils.operate.imgcensor.ImageBasedCensor"><code class="docutils literal notranslate"><span class="pre">ImageBasedCensor</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#emojibasedcensor">EmojiBasedCensor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#imgutils.operate.imgcensor.EmojiBasedCensor"><code class="docutils literal notranslate"><span class="pre">EmojiBasedCensor</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#singleimage">SingleImage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#imgutils.operate.imgcensor.SingleImage"><code class="docutils literal notranslate"><span class="pre">SingleImage</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="squeeze.html">imgutils.operate.squeeze</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pose/index.html">imgutils.pose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../restore/index.html">imgutils.restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sd/index.html">imgutils.sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../segment/index.html">imgutils.segment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tagging/index.html">imgutils.tagging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">imgutils.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validate/index.html">imgutils.validate</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">imgutils</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">imgutils.operate</a></li>
      <li class="breadcrumb-item active">imgutils.operate.imgcensor</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api_doc/operate/imgcensor.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
    
    
  <section id="module-imgutils.operate.imgcensor">
<span id="imgutils-operate-imgcensor"></span><h1>imgutils.operate.imgcensor<a class="headerlink" href="#module-imgutils.operate.imgcensor" title="Permalink to this heading"></a></h1>
<dl class="simple">
<dt>Overview:</dt><dd><p>Censors a specified area of an image using a custom image or emoji.</p>
</dd>
</dl>
<section id="imagebasedcensor">
<h2>ImageBasedCensor<a class="headerlink" href="#imagebasedcensor" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.ImageBasedCensor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">imgutils.operate.imgcensor.</span></span><span class="sig-name descname"><span class="pre">ImageBasedCensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">images</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytearray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">BinaryIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Image</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytearray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">BinaryIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Image</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytearray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">BinaryIO</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Image</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(-30,</span> <span class="pre">30)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/imgutils/operate/imgcensor.html#ImageBasedCensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imgutils.operate.imgcensor.ImageBasedCensor" title="Permalink to this definition"></a></dt>
<dd><p>A class that performs censoring on a given area using images by finding the best solution based on rotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>images</strong> (<em>MultiImagesTyping</em>) – The input images for censoring.</p></li>
<li><p><strong>rotate</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – The range of rotation angles in degrees (start, end) to consider.</p></li>
<li><p><strong>step</strong> (<em>int</em>) – The step size between rotation angles.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.ImageBasedCensor.censor_area">
<span class="sig-name descname"><span class="pre">censor_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Image</span></span></span><a class="reference internal" href="../../_modules/imgutils/operate/imgcensor.html#ImageBasedCensor.censor_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imgutils.operate.imgcensor.ImageBasedCensor.censor_area" title="Permalink to this definition"></a></dt>
<dd><p>Censors the specified area of the input image using the available images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>Image.Image</em>) – The input image to be censored.</p></li>
<li><p><strong>area</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>]</em>) – The coordinates of the target area to censor (x0, y0, x1, y1).</p></li>
<li><p><strong>ratio_threshold</strong> (<em>float</em>) – The minimum ratio of the covered area to the total mask area required for a solution
to be considered valid.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments to be passed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The censored image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Image.Image</p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">imgutils.operate</span> <span class="kn">import</span> <span class="n">censor_areas</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">origin</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;genshin_post.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">areas</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># areas to censor</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">967</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="mi">1084</span><span class="p">,</span> <span class="mi">261</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">246</span><span class="p">,</span> <span class="mi">208</span><span class="p">,</span> <span class="mi">331</span><span class="p">,</span> <span class="mi">287</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">662</span><span class="p">,</span> <span class="mi">466</span><span class="p">,</span> <span class="mi">705</span><span class="p">,</span> <span class="mi">514</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">479</span><span class="p">,</span> <span class="mi">283</span><span class="p">,</span> <span class="mi">523</span><span class="p">,</span> <span class="mi">326</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># register the star image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">register_censor_method</span><span class="p">(</span><span class="s1">&#39;star&#39;</span><span class="p">,</span> <span class="n">ImageBasedCensor</span><span class="p">,</span> <span class="n">images</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;star.png&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">censored</span> <span class="o">=</span> <span class="n">censor_areas</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="s1">&#39;star&#39;</span><span class="p">,</span> <span class="n">areas</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/censor_image.plot.py.svg" class="align-center" src="../../_images/censor_image.plot.py.svg" /><div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is important to note that when using <a class="reference internal" href="#imgutils.operate.imgcensor.ImageBasedCensor" title="imgutils.operate.imgcensor.ImageBasedCensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageBasedCensor</span></code></a> to censor an image,
you need to manually register the image used for censoring
using the <code class="xref py py-func docutils literal notranslate"><span class="pre">register_censor_method()</span></code> function.</p>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="emojibasedcensor">
<h2>EmojiBasedCensor<a class="headerlink" href="#emojibasedcensor" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.EmojiBasedCensor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">imgutils.operate.imgcensor.</span></span><span class="sig-name descname"><span class="pre">EmojiBasedCensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(-30,</span> <span class="pre">30)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/imgutils/operate/imgcensor.html#EmojiBasedCensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imgutils.operate.imgcensor.EmojiBasedCensor" title="Permalink to this definition"></a></dt>
<dd><p>Performs censoring on a given area of an image using emoji images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rotate</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – The range of rotation angles in degrees (start, end) to consider.</p></li>
<li><p><strong>step</strong> (<em>int</em>) – The step size between rotation angles.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.EmojiBasedCensor.censor_area">
<span class="sig-name descname"><span class="pre">censor_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emoji</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">':smiling_face_with_heart-eyes:'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'twitter'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'apple'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'google'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'microsoft'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'samsung'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'whatsapp'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'facebook'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'messenger'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'joypixels'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'openmoji'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'emojidex'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'mozilla'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'twitter'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Image</span></span></span><a class="reference internal" href="../../_modules/imgutils/operate/imgcensor.html#EmojiBasedCensor.censor_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imgutils.operate.imgcensor.EmojiBasedCensor.censor_area" title="Permalink to this definition"></a></dt>
<dd><p>Censors the specified area of the input image using emoji expressions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>Image.Image</em>) – The input image to be censored.</p></li>
<li><p><strong>area</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>, </em><em>int</em><em>]</em>) – The coordinates of the target area to censor (x0, y0, x1, y1).</p></li>
<li><p><strong>emoji</strong> (<em>str</em>) – The emoji expression to use for censoring.
Emoji code in <a class="reference external" href="https://github.com/carpedm20/emoji">emoji</a> is supported.
(default: <code class="docutils literal notranslate"><span class="pre">:smiling_face_with_heart-eyes:</span></code>, which equals to 😍)</p></li>
<li><p><strong>style</strong> (<em>_EmojiStyleTyping</em>) – The style of the emoji expression. (default: <code class="docutils literal notranslate"><span class="pre">twitter</span></code>)</p></li>
<li><p><strong>ratio_threshold</strong> (<em>float</em>) – The minimum ratio of the covered area to the total mask area required for a solution
to be considered valid.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments to be passed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The censored image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Image.Image</p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">imgutils.operate</span> <span class="kn">import</span> <span class="n">censor_areas</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">origin</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;genshin_post.jpg&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">areas</span> <span class="o">=</span> <span class="p">[</span>  <span class="c1"># areas to censor</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">967</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="mi">1084</span><span class="p">,</span> <span class="mi">261</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">246</span><span class="p">,</span> <span class="mi">208</span><span class="p">,</span> <span class="mi">331</span><span class="p">,</span> <span class="mi">287</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">662</span><span class="p">,</span> <span class="mi">466</span><span class="p">,</span> <span class="mi">705</span><span class="p">,</span> <span class="mi">514</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">(</span><span class="mi">479</span><span class="p">,</span> <span class="mi">283</span><span class="p">,</span> <span class="mi">523</span><span class="p">,</span> <span class="mi">326</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emoji_default</span> <span class="o">=</span> <span class="n">censor_areas</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="s1">&#39;emoji&#39;</span><span class="p">,</span> <span class="n">areas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># cat_face (use emoji code)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emoji_green</span> <span class="o">=</span> <span class="n">censor_areas</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="s1">&#39;emoji&#39;</span><span class="p">,</span> <span class="n">areas</span><span class="p">,</span> <span class="n">emoji</span><span class="o">=</span><span class="s1">&#39;:cat_face:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># grinning_face_with_sweat (use emoji)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emoji_liuhanhuangdou</span> <span class="o">=</span> <span class="n">censor_areas</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="s1">&#39;emoji&#39;</span><span class="p">,</span> <span class="n">areas</span><span class="p">,</span> <span class="n">emoji</span><span class="o">=</span><span class="s1">&#39;😅&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is the result:</p>
<img alt="../../_images/censor_emoji.plot.py.svg" class="align-center" src="../../_images/censor_emoji.plot.py.svg" /></dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to compatibility issues with pilmoji library in Python 3.7, and the fact that
Python 3.7 reached its end of life on June 27, 2023, custom emojis cannot be used in Python 3.7.
To ensure that the code can still be executed, the <a class="reference internal" href="#imgutils.operate.imgcensor.ImageBasedCensor" title="imgutils.operate.imgcensor.ImageBasedCensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageBasedCensor</span></code></a> with
a pre-defined smiley face image will be used instead.
When used, the values of the <code class="docutils literal notranslate"><span class="pre">emoji</span></code> and <code class="docutils literal notranslate"><span class="pre">style</span></code> parameters will be ignored.</p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="singleimage">
<h2>SingleImage<a class="headerlink" href="#singleimage" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.SingleImage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">imgutils.operate.imgcensor.</span></span><span class="sig-name descname"><span class="pre">SingleImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/imgutils/operate/imgcensor.html#SingleImage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imgutils.operate.imgcensor.SingleImage" title="Permalink to this definition"></a></dt>
<dd><p>A class that attempts to find a solution to completely cover a given area of an image while minimizing the covered area.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image</strong> (<em>Image.Image</em>) – The input image.</p>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>image</strong> (<em>Image.Image</em>) – The original image for censoring.</p></li>
<li><p><strong>mask</strong> (<em>np.ndarray</em>) – The mask of the image. True means this pixel is not transparent and able to cover some area.</p></li>
<li><p><strong>prefix</strong> (<em>np.ndarray</em>) – The prefix sum of the mask.</p></li>
<li><p><strong>cx</strong> (<em>float</em>) – The X-coordinate of the mass center of this image. The position of the occlusion should be as close as
possible to the mass center of the image.</p></li>
<li><p><strong>cy</strong> (<em>float</em>) – The Y-coordinate of the mass center of this image. The position of the occlusion should be as close as
possible to the mass center of the image.</p></li>
<li><p><strong>width</strong> (<em>int</em>) – The width of the image.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – The height of the image.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.SingleImage.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/imgutils/operate/imgcensor.html#SingleImage.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imgutils.operate.imgcensor.SingleImage.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.SingleImage.find_for_area">
<span class="sig-name descname"><span class="pre">find_for_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/imgutils/operate/imgcensor.html#SingleImage.find_for_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imgutils.operate.imgcensor.SingleImage.find_for_area" title="Permalink to this definition"></a></dt>
<dd><p>Finds a solution to completely cover a given area with a rectangle while minimizing the covered area.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<em>int</em>) – The width of the target area to cover.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – The height of the target area to cover.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The coordinates (x, y) of the found solution (top-left corner), the scaling factor applied to the
width and height, and the ratio of the covered area to the total mask area.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, float, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.SingleImage.height">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">height</span></span><a class="headerlink" href="#imgutils.operate.imgcensor.SingleImage.height" title="Permalink to this definition"></a></dt>
<dd><p>The height of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The height of the image.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="imgutils.operate.imgcensor.SingleImage.width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">width</span></span><a class="headerlink" href="#imgutils.operate.imgcensor.SingleImage.width" title="Permalink to this definition"></a></dt>
<dd><p>The width of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The width of the image.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="censor.html" class="btn btn-neutral float-left" title="imgutils.operate.censor_" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="squeeze.html" class="btn btn-neutral float-right" title="imgutils.operate.squeeze" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, narugo1992, 7eu7d7.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
    <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: dev/cpu
    <span class="fa fa-caret-down"></span>
  </span>
        <div class="rst-other-versions">
                <dl>
                    <dt>Tags</dt>
                        <dd><a href="../../../../v0.3.0/api_doc/operate/imgcensor.html">v0.3.0</a></dd>
                        <dd><a href="../../../../v0.3.1/api_doc/operate/imgcensor.html">v0.3.1</a></dd>
                        <dd><a href="../../../../v0.3.2/api_doc/operate/imgcensor.html">v0.3.2</a></dd>
                        <dd><a href="../../../../v0.3.3/api_doc/operate/imgcensor.html">v0.3.3</a></dd>
                        <dd><a href="../../../../v0.3.4/api_doc/operate/imgcensor.html">v0.3.4</a></dd>
                        <dd><a href="../../../../v0.3.5/api_doc/operate/imgcensor.html">v0.3.5</a></dd>
                        <dd><a href="../../../../v0.4.0/api_doc/operate/imgcensor.html">v0.4.0</a></dd>
                </dl>
                <dl>
                    <dt>Branches</dt>
                        <dd><a href="../../../../ccip/api_doc/operate/imgcensor.html">ccip</a></dd>
                        <dd><a href="imgcensor.html">dev/cpu</a></dd>
                        <dd><a href="../../../../main/api_doc/operate/imgcensor.html">main</a></dd>
                </dl>
        </div>
    </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>